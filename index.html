<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ErisPulse - 高性能异步机器人开发框架">
    <meta name="theme-color" content="#4a6bdf">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ErisPulse">
    
    <title>ErisPulse - 异步机器人开发框架</title>
    
    <!-- PWA 相关 -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/img/logo.png">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="assets/js/main.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>
<body>
    <!-- 加载动画 -->
    <div id="page-loader" class="page-loader">
        <img class="loader-icon" src="assets/img/logo.png">
    </div>

    <!-- 导航栏 -->
    <nav class="navbar">
        <a href="assets/img/logo.png" class="logo" data-view="home">
            <img src="assets/img/logo.png" class="logo-icon" alt="ErisPulse">
            <span>ErisPulse</span>
        </a>

        <button class="hamburger" id="hamburger">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <div class="nav-container" id="nav-container">
            <div class="nav-links">
                <a href="#" class="nav-link active" data-view="home">
                    <i class="fas fa-home"></i> <span class="nav-text">首页</span>
                </a>
                <a href="#" class="nav-link" data-view="market">
                    <i class="fas fa-store"></i> <span class="nav-text">模块市场</span>
                </a>
                <a href="#" class="nav-link" data-view="docs">
                    <i class="fas fa-book"></i> <span class="nav-text">文档中心</span>
                </a>
                <a href="#" class="nav-link" data-view="about">
                    <i class="fas fa-heart"></i> <span class="nav-text">我们</span>
                </a>
                
                <!-- 将主题切换按钮移到导航链接内 -->
                <button class="theme-toggle nav-link" id="theme-toggle">
                    <i class="fas fa-moon"></i> <span class="nav-text">主题切换</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- 主内容区域 -->
    <main class="main-content">
        <!-- 首页视图 -->
        <div id="home-view" class="view-container active">
            
            <!-- 英雄区域 -->
            <section class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">ErisPulse</h1>
                    <p class="hero-subtitle">高性能异步机器人开发框架</p>
                    <div class="hero-actions">
                        <a href="#" class="btn btn-primary" data-view="docs">
                            <i class="fas fa-book"></i> 开始使用
                        </a>
                        <a href="#" class="btn" data-view="market">
                            <i class="fas fa-store"></i> 浏览模块
                        </a>
                    </div>
                </div>
            </section>

            <!-- 特性介绍 -->
            <section class="features">
                <div class="container">
                    <h2 class="section-title">核心特性</h2>
                    <p class="section-subtitle">ErisPulse 提供强大的开发工具和功能，让机器人开发更加高效和便捷</p>

                    <div class="features-grid">
                        <!-- 性能优化类 -->
                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <h3 class="feature-title">智能懒加载</h3>
                            <p class="feature-description">
                                模块按需加载，显著提升启动速度，降低资源消耗。
                            </p>
                        </div>

                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <h3 class="feature-title">异步高性能</h3>
                            <p class="feature-description">
                                基于asyncio的事件驱动，确保高性能和低延迟。
                            </p>
                        </div>

                        <!-- 开发体验类 -->
                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <h3 class="feature-title">热重载开发</h3>
                            <p class="feature-description">
                                代码修改后自动重启，大幅提升开发效率。
                            </p>
                        </div>

                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3 class="feature-title">优雅的API</h3>
                            <p class="feature-description">
                                链式调用DSL和类型提示，让代码更简洁易维护。
                            </p>
                        </div>

                        <!-- 模块系统类 -->
                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <h3 class="feature-title">模块化架构</h3>
                            <p class="feature-description">
                                PyPI包形式模块系统，支持动态加载和热更新。
                            </p>
                        </div>

                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-route"></i>
                            </div>
                            <h3 class="feature-title">统一路由管理</h3>
                            <p class="feature-description">
                                内置HTTP/WebSocket路由系统，简化Web功能开发。
                            </p>
                        </div>

                        <!-- 兼容性类 -->
                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-plug"></i>
                            </div>
                            <h3 class="feature-title">OneBot12兼容</h3>
                            <p class="feature-description">
                                兼容标准协议，快速接入各种机器人平台。
                            </p>
                        </div>

                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h3 class="feature-title">扩展开发</h3>
                            <p class="feature-description">
                                CLI扩展系统，提供CLI命令行拓展模块支持。
                            </p>
                        </div>

                        <!-- 安全性类 -->
                        <div class="feature-card animate-in">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3 class="feature-title">安全性保障</h3>
                            <p class="feature-description">
                                事务支持、配置快照，满足生产环境需求。
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 统计数据 -->
            <section class="stats">
                <div class="container">
                    <h2 class="section-title">项目状态</h2>
                    <p class="section-subtitle">实时项目数据统计和社区贡献信息</p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-modules">--</div>
                            <div class="stat-label">可用模块</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-number" id="adapter-count">--</div>
                            <div class="stat-label">平台适配器</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-number" id="cli-count">--</div>
                            <div class="stat-label">CLI扩展</div>
                        </div>
                    </div>
                </div>
            </section>
            
        </div>
        <!-- 模块市场视图 -->
        <div id="market-view" class="view-container">
            <div class="container market-container">
                <div class="market-header">
                    <h2 class="section-title">模块市场</h2>
                    <a href="legacy_mods.html" class="legacy-market-link">
                        <i class="fas fa-history"></i> 查看 1.x 模块源 [已废弃]
                    </a>
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="搜索模块..." id="module-search">
                    </div>
                </div>

                <div class="module-categories">
                    <button class="category-btn active" data-category="all">全部模块</button>
                    <button class="category-btn" data-category="modules">功能模块</button>
                    <button class="category-btn" data-category="adapters">平台适配器</button>
                    <button class="category-btn" data-category="cli">CLI扩展</button>
                </div>

                <div class="module-grid" id="modules-grid">
                    <!-- 模块卡片将通过JavaScript动态生成 -->
                    <div class="module-card">
                        <div class="module-header">
                            <div class="module-icon">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <div>
                                <h3 class="module-name">示例模块</h3>
                                <div class="module-version">v1.0.0</div>
                            </div>
                        </div>
                        <p class="module-desc">这是一个示例模块的描述信息，用于展示模块卡片的外观和布局。</p>
                        <div class="module-tags">
                            <span class="module-tag">示例</span>
                            <span class="module-tag">测试</span>
                        </div>
                        <div class="module-footer">
                            <div class="module-author">ErisPulse Team</div>
                            <div class="module-actions">
                                <button class="module-btn">
                                    <i class="fas fa-download"></i> 安装
                                </button>
                                <button class="module-btn">
                                    <i class="fas fa-book"></i> 文档
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 文档中心视图 -->
        <div id="docs-view" class="view-container">
            <!-- 新的子导航栏 -->
            <div class="docs-subnav">
                <div class="container">
                    <div class="docs-nav-container">
                        <div class="docs-nav-item">
                            <div class="docs-nav-category" data-category="getting-started">
                                入门指南 <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="docs-dropdown">
                                <a href="#quick-start" class="docs-nav-link" data-doc="quick-start">
                                    <i class="fas fa-rocket"></i>
                                    快速开始
                                </a>
                            </div>
                        </div>
                        
                        <div class="docs-nav-item">
                            <div class="docs-nav-category" data-category="development">
                                开发文档 <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="docs-dropdown">
                                <a href="#dev-readme" class="docs-nav-link" data-doc="dev-readme">
                                    <i class="fas fa-book"></i>
                                    开发概述
                                </a>
                                <a href="#dev-adapter" class="docs-nav-link" data-doc="dev-adapter">
                                    <i class="fas fa-plug"></i>
                                    适配器开发
                                </a>
                                <a href="#dev-module" class="docs-nav-link" data-doc="dev-module">
                                    <i class="fas fa-cube"></i>
                                    模块开发
                                </a>
                                <a href="#dev-cli" class="docs-nav-link" data-doc="dev-cli">
                                    <i class="fas fa-terminal"></i>
                                    CLI 拓展模块
                                </a>
                            </div>
                        </div>
                        
                        <div class="docs-nav-item">
                            <div class="docs-nav-category" data-category="adapter-standards">
                                适配器标准 <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="docs-dropdown">
                                <a href="#adapter-standards" class="docs-nav-link" data-doc="adapter-standards">
                                    <i class="fas fa-file-alt"></i>
                                    标准概述
                                </a>
                                <a href="#api-response" class="docs-nav-link" data-doc="api-response">
                                    <i class="fas fa-exchange-alt"></i>
                                    API响应规范
                                </a>
                                <a href="#event-conversion" class="docs-nav-link" data-doc="event-conversion">
                                    <i class="fas fa-random"></i>
                                    事件转换规范
                                </a>
                            </div>
                        </div>
                        
                        <div class="docs-nav-item">
                            <div class="docs-nav-category" data-category="references">
                                参考资料 <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="docs-dropdown">
                                <a href="#cli" class="docs-nav-link" data-doc="cli">
                                    <i class="fas fa-terminal"></i>
                                    CLI 命令手册
                                </a>
                                <a href="#use-core" class="docs-nav-link" data-doc="use-core">
                                    <i class="fas fa-cube"></i>
                                    核心使用文档
                                </a>
                                <a href="#platform-features" class="docs-nav-link" data-doc="platform-features">
                                    <i class="fas fa-list"></i>
                                    平台功能列表
                                </a>
                                <a href="#ai-module" class="docs-nav-link" data-doc="ai-module">
                                    <i class="fas fa-brain"></i>
                                    AI 模块生成
                                </a>
                                <a href="#changelog" class="docs-nav-link" data-doc="changelog">
                                    <i class="fas fa-history"></i>
                                    更新日志
                                </a>
                            </div>
                        </div>
                        
                        <div class="docs-nav-item">
                            <div class="docs-nav-category" data-category="api-docs">
                                API 文档 <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="docs-dropdown">
                                <a href="#api-init" class="docs-nav-link" data-doc="api-init">
                                    <i class="fas fa-file-code"></i>
                                    __init__ 模块
                                </a>
                                <a href="#api-main" class="docs-nav-link" data-doc="api-main">
                                    <i class="fas fa-terminal"></i>
                                    __main__ 模块
                                </a>
                                <a href="#api-adapter" class="docs-nav-link" data-doc="api-adapter">
                                    <i class="fas fa-plug"></i>
                                    适配器接口
                                </a>
                                <a href="#api-env" class="docs-nav-link" data-doc="api-env">
                                    <i class="fas fa-server"></i>
                                    环境配置
                                </a>
                                <a href="#api-mods" class="docs-nav-link" data-doc="api-mods">
                                    <i class="fas fa-boxes"></i>
                                    模块管理
                                </a>
                                <a href="#api-raiserr" class="docs-nav-link" data-doc="api-raiserr">
                                    <i class="fas fa-exclamation-circle"></i>
                                    错误处理
                                </a>
                                <a href="#api-server" class="docs-nav-link" data-doc="api-server">
                                    <i class="fas fa-network-wired"></i>
                                    服务端API
                                </a>
                                <a href="#api-util" class="docs-nav-link" data-doc="api-util">
                                    <i class="fas fa-tools"></i>
                                    工具函数
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container">
                <section class="section">
                    <!-- 移除了原来的 docs-sidebar -->
                    <div class="docs-main">
                        <div class="markdown-content" id="docs-content">
                            <div class="docs-guidance">
                                <div class="guidance-content">
                                    <h3>探索 ErisPulse 文档</h3>
                                    <p>从以下分类开始您的探索，或使用上方导航栏查找特定内容</p>
                                    
                                    <div class="guidance-categories">
                                        <div class="category">
                                            <h4><i class="fas fa-rocket"></i> 入门指南</h4>
                                            <a href="#docs/quick-start">快速开始</a>
                                            <a href="#docs/cli">CLI工具</a>
                                            <a href="#docs/ai-module">AI模块生成</a>
                                        </div>
                                        
                                        <div class="category">
                                            <h4><i class="fas fa-code"></i> 开发指南</h4>
                                            <a href="#docs/dev-module">模块开发</a>
                                            <a href="#docs/dev-adapter">适配器开发</a>
                                            <a href="#docs/dev-cli">CLI扩展</a>
                                        </div>
                                        
                                        <div class="category">
                                            <h4><i class="fas fa-book"></i> API参考</h4>
                                            <a href="#docs/api-init">核心API</a>
                                            <a href="#docs/api-adapter">适配器接口</a>
                                            <a href="#docs/api-server">服务端API</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <!-- 关于视图 -->
        <div id="about-view" class="view-container">
            <div class="container">
                <section class="contributors">
                    <div class="stat-card">
                        <div class="stat-number" id="contributors-count">--</div>
                        <div class="stat-label">贡献者</div>
                    </div>
                    
                    <h2 class="section-title">我们的贡献者</h2>
                    <p class="section-subtitle">感谢这些优秀的开发者为项目做出的贡献</p>

                    <div class="contributors-grid" id="contributors-container">
                        <!-- 贡献者卡片将通过JS动态生成 -->
                    </div>

                    <div class="copyright-section">
                        <div class="copyright-content">
                            <h3 class="copyright-title">版权声明</h3>
                            <p>ErisPulse 使用 MIT 开源协议，允许自由分发和修改。</p>
                            
                            <div class="avatar-info">
                                <p>头像版权归原作者所有：</p>
                                <span>作者：げのげ</span>
                                <span>PID：96369911</span>
                                <span>UID：63887595</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- 模块详情模态框 -->
        <div class="modal-overlay" id="module-modal">
            <div class="modal">
                <div class="modal-header">
                    <h3 class="modal-title">模块详情</h3>
                    <button class="close-btn" id="close-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="module-modal-content">
                        <!-- 模块详情内容将通过JavaScript动态加载 -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ErisPulse</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-home"></i> 项目主页</a></li>
                        <li><a href="#"><i class="fas fa-book"></i> 使用文档</a></li>
                        <li><a href="#"><i class="fas fa-download"></i> 版本发布</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>贡献与开发</h3>
                    <ul class="footer-links">
                        <li><a href="https://github.com/ErisPulse/ErisPulse/issues"><i class="fas fa-code"></i> 报告Issue</a></li>
                        <li><a href="https://github.com/ErisPulse/ErisPulse/pulls"><i class="fas fa-code-branch"></i> 提交PR</a></li>
                        <li><a href="https://github.com/ErisPulse/ErisPulse/discussions"><i class="fas fa-comments"></i> 讨论区</a></li>
                        <li><a href="https://github.com/ErisPulse/ErisPulse-Scaffold"><i class="fas fa-terminal"></i> CLI 脚手架</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>社交平台</h3>
                    <ul class="footer-links">
                        <li><a href="https://github.com/ErisPulse"><i class="fab fa-github"></i> GitHub</a></li>
                    </ul>
                </div>

            </div>

            <div class="copyright">
                &copy; 2025 ErisPulse Project | 开源许可证：MIT 
            </div>
        </div>
    </footer>
</body>
</html>
